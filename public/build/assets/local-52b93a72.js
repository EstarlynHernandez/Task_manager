document.onload=d();function d(){o(),u(),m()}function u(){document.querySelectorAll(".checked"),document.querySelectorAll(".delete");let t=document.querySelector(".taskCreate");t.onsubmit=l=>{if(l.preventDefault(),document.querySelector("#name").value.length>3){let c={complete:!1,title:document.querySelector("#name").value,details:document.querySelector("#details").value};k(c)}}}function m(){let t=document.querySelector(".create"),l=document.querySelectorAll(".closeTab"),c=document.querySelector(".createTab");l.forEach(e=>{e.onclick=()=>{t.classList.add("dnone")}}),c.onclick=()=>{t.classList.remove("dnone")}}function o(){let t=localStorage.getItem("task");if(t){let l=JSON.parse(t);l.forEach(c=>{f(c,l)})}}function f(t,l){let c=document.querySelector(".tasks"),e=document.createElement("li"),a=document.createElement("img"),n=document.createElement("img"),s=document.createElement("div"),r=document.createElement("h3"),i=document.createElement("p");r.innerText=t.title,r.classList.add("task__title"),i.innerText=t.details,i.classList.add("task__text"),s.appendChild(r),s.appendChild(i),s.classList.add("task__info"),a.setAttribute("src","icons/circle.svg"),a.setAttribute("alt","not found"),a.classList.add("task__checked","checked"),a.onclick=()=>{S(t,l)},n.setAttribute("src","icons/delete.svg"),n.setAttribute("alt","not found"),n.classList.add("task__delete","delete"),n.onclick=()=>{p(t,l)},e.classList.add("task"),t.complete&&(e.classList.add("task__complete"),a.setAttribute("src","icons/complete.svg")),e.appendChild(a),e.appendChild(s),e.appendChild(n),c.appendChild(e)}function k(t){let l=document.querySelector(".tasks"),c=localStorage.getItem("task");if(c==null){let e=JSON.stringify([t]);localStorage.setItem("task",e)}else{let e=JSON.parse(c);e.push(t),localStorage.setItem("task",JSON.stringify(e))}l.innerHTML=" ",o()}function S(t,l){let c=document.querySelector(".tasks");l.filter(e=>(e===t&&(e.complete=!e.complete),e)),c.innerHTML=" ",localStorage.setItem("task",JSON.stringify(l)),o()}function p(t,l){let c=document.querySelector(".tasks"),e=l.filter(a=>a===t?null:a);c.innerHTML=" ",localStorage.setItem("task",JSON.stringify(e)),o()}
