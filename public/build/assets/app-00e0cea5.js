document.onload=u();function u(){d(),i(),r(".task"),r(".groupItem")}function d(){let n=document.querySelectorAll(".checked"),o=document.querySelectorAll(".delete"),l=document.querySelector("#type"),t=document.querySelector("#count"),c=document.querySelectorAll(".taskExtra");n.forEach(e=>{e.onclick=s=>{e.parentElement.parentElement.classList.toggle("task__complete"),e.children[0].submit()}}),o.forEach(e=>{e.onclick=s=>{e.parentElement.classList.toggle("deleting"),e.children[0].submit()}}),l.onchange=()=>{t&&t.classList.add("dnone"),l.value!="normal"&&(t=document.querySelector("#"+l.value),t.classList.remove("dnone"))},c.forEach(e=>{e.childElementCount>0&&!e.parentElement.parentElement.classList.contains("task__complete")&&(e.onclick=()=>{m(e)})})}function r(n){let o=document.querySelectorAll(n),l,t,c;o.forEach(e=>{e.addEventListener("touchstart",s=>{t=!0,l=s.touches[0].screenX}),e.addEventListener("touchmove",s=>{t&&(c=s.touches[0].screenX-l,c>-120&&c<5&&(e.style="left:"+c+"px"))}),e.addEventListener("touchend",()=>{t=!1,c<-30?e.style="left: -80px":e.style="left: 0px"})})}function i(){let n=document.querySelector(".create"),o=document.querySelectorAll(".closeTab"),l=document.querySelector(".createTab"),t=document.querySelector("#content"),c=document.querySelector("#openMenu"),e=document.querySelector("#menu"),s=document.querySelector(".shadow");c&&(c.onclick=()=>{e.classList.remove("dnone"),t.classList.add("blur"),n.classList.add("dnone"),s.classList.remove("dnone")}),o.forEach(a=>{a.onclick=()=>{e.classList.add("dnone"),n.classList.add("dnone"),s.classList.add("dnone"),t.classList.remove("blur")}}),l.onclick=()=>{n.classList.remove("dnone"),s.classList.remove("dnone"),t.classList.add("blur")}}function m(n){let o=n.querySelector("p").innerText.split("-"),l=parseInt(o[0])+1;if(n.querySelector("p").innerText=l+"-"+o[1],l==o[1]){let t=n.parentElement.querySelector(".checked form");n.parentElement.parentElement.classList.toggle("task__complete"),t.submit()}}
